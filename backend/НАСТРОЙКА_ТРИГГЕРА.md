# üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ MLM –±–æ–Ω—É—Å–æ–≤

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ä—Å–∏–∏ 2.1 (–¢—Ä–∏–≥–≥–µ—Ä–Ω–∞—è)

### ‚úÖ –ß—Ç–æ —É–±—Ä–∞–Ω–æ:
- ‚ùå –§—É–Ω–∫—Ü–∏—è `onOpen()` - –±–æ–ª—å—à–µ –Ω–µ—Ç –º–µ–Ω—é
- ‚ùå –í—Å–µ `ui.alert()` - –Ω–µ—Ç popup-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚ùå –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é "üí∞ MLM –ë–æ–Ω—É—Å—ã"

### ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ onChange
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `onEdit()` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `testTableStructure()` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (5 —à–∞–≥–æ–≤)

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª **`calculateMlmBonuses_trigger.gs`**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥

### –®–∞–≥ 2: –í—Å—Ç–∞–≤—å—Ç–µ –≤ Apps Script

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google –¢–∞–±–ª–∏—Ü—É
2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Üí Apps Script**
3. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–æ–¥ (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–æ–¥
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+S)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä onChange

1. –í Apps Script –Ω–∞–∂–º–∏—Ç–µ **‚è∞ (–¢—Ä–∏–≥–≥–µ—Ä—ã)** —Å–ª–µ–≤–∞
2. –ù–∞–∂–º–∏—Ç–µ **+ –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä** (—Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:

```
–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:          calculateMlmBonuses
–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:    Head
–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏—è: –ò–∑ —Ç–∞–±–ª–∏—Ü—ã
–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è:      –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
```

4. –ù–∞–∂–º–∏—Ç–µ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**
5. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

### –®–∞–≥ 4: (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä onEdit

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏ —Ä—É—á–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:

1. **+ –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä**
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:

```
–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:          onEdit
–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:    Head
–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏—è: –ò–∑ —Ç–∞–±–ª–∏—Ü—ã
–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è:      –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
```

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `testTableStructure()`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **–ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** (Execution log)
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ —á–µ—Ä–µ–∑ API
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ–Ω—É—Å—ã —Ä–∞—Å—Å—á–∏—Ç–∞–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## ‚öôÔ∏è –¢–∏–ø—ã —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

### onChange (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è API)

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ API
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Apps Script

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```
–§—É–Ω–∫—Ü–∏—è: calculateMlmBonuses
–¢–∏–ø —Å–æ–±—ã—Ç–∏—è: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è API
- ‚úÖ –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ù–∞–¥–µ–∂–Ω–æ

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–∞—â–µ, —á–µ–º –Ω—É–∂–Ω–æ

---

### onEdit (–î–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –ü—Ä–∏ —Ä—É—á–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —è—á–µ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –ù–ï —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ API/—Å–∫—Ä–∏–ø—Ç

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```
–§—É–Ω–∫—Ü–∏—è: onEdit
–¢–∏–ø —Å–æ–±—ã—Ç–∏—è: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–º –≤–≤–æ–¥–µ
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç —Å API

---

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ API:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **onChange** —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é `calculateMlmBonuses`

**–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ API, –∏ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ **–æ–±–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞**:
  - onChange ‚Üí `calculateMlmBonuses`
  - onEdit ‚Üí `onEdit` (—Ñ—É–Ω–∫—Ü–∏—è —Å–∞–º–∞ –≤—ã–∑–æ–≤–µ—Ç calculateMlmBonuses)

---

## üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ—Ü–µ—Å—Å:

```
1. API –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ payments
   ‚Üì
2. –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä onChange
   ‚Üì
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è calculateMlmBonuses()
   ‚Üì
4. –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
   ‚Üì
5. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–æ–Ω—É—Å—ã
   ‚Üì
6. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∫–æ–ª–æ–Ω–∫–∏ H-R
   ‚Üì
7. –õ–æ–≥–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∂—É—Ä–Ω–∞–ª
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Ç—Ä–∏–≥–≥–µ—Ä–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

1. **Apps Script ‚Üí –ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫
3. –£–≤–∏–¥–∏—Ç–µ:

```
üöÄ –°–¢–ê–†–¢ —Ä–∞—Å—á–µ—Ç–∞ MLM –±–æ–Ω—É—Å–æ–≤ | 20:45:23
üë• –ó–∞–≥—Ä—É–∂–µ–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: 4
‚úÖ –°—Ç—Ä–æ–∫–∞ 2: L1=–Ø–Ω –í–æ—Ä–æ–Ω–∫–æ–≤ | 10‚ÇΩ (10%) + 1 –±.
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
   ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 1
   ‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ: 0
   ‚ö†Ô∏è  –û—à–∏–±–æ–∫: 0
   ‚è±Ô∏è  –í—Ä–µ–º—è: 0.45 —Å–µ–∫
üéâ –ó–ê–í–ï–†–®–ï–ù–û | 20:45:23
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π:

1. **Apps Script ‚Üí –ú–æ–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** (—Å–ª–µ–≤–∞)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –∑–∞–ø—É—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å (Success/Error)
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ö–≤–æ—Ç—ã Google Apps Script:

| –¢–∏–ø | –õ–∏–º–∏—Ç |
|-----|-------|
| –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π —Ç—Ä–∏–≥–≥–µ—Ä–∞ –≤ –¥–µ–Ω—å | 20 |
| –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ | 6 –º–∏–Ω—É—Ç |
| Email-–æ–≤ –≤ –¥–µ–Ω—å | 100 |

**–í–∞—à —Å–∫—Ä–∏–ø—Ç:** ~0.5 —Å–µ–∫ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚úÖ

### –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π:

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–æ–Ω–∫—É H (referer_L1)
- –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç
- –ï—Å–ª–∏ –ø—É—Å—Ç–∞—è ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç

### –ü–µ—Ä–µ—Å—á–µ—Ç –±–æ–Ω—É—Å–æ–≤:

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –í–°–ï –±–æ–Ω—É—Å—ã:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é `clearAllBonuses()`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é `calculateMlmBonuses()`
3. –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ (—Ç—Ä–∏–≥–≥–µ—Ä —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```javascript
// –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ Apps Script:
testTableStructure()
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- ‚úÖ –õ–∏—Å—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- ‚ÑπÔ∏è –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü
- ‚ÑπÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚ÑπÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ÑπÔ∏è –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

### –¢–µ—Å—Ç 2: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

```javascript
// –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ Apps Script:
calculateMlmBonuses()
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥:**
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è < 1 —Å–µ–∫—É–Ω–¥—ã
- –ù–µ—Ç –æ—à–∏–±–æ–∫

### –¢–µ—Å—Ç 3: –¢—Ä–∏–≥–≥–µ—Ä —á–µ—Ä–µ–∑ API

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ —á–µ—Ä–µ–∑ API
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 —Å–µ–∫—É–Ω–¥
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É - –∫–æ–ª–æ–Ω–∫–∏ H-R –¥–æ–ª–∂–Ω—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å—Å—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **–ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –≤ Apps Script

---

## üìß Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í –∫–æ–¥–µ –µ—Å—Ç—å –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email:

```javascript
// –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ calculateMlmBonuses():
sendBonusNotification(
  "partner@example.com",
  upline1.name,
  moneyL1,
  pointsL1
);
```

**–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
1. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `sendBonusNotification`
2. –î–æ–±–∞–≤—å—Ç–µ email –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É referals
3. –í—ã–∑—ã–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ –±–æ–Ω—É—Å–æ–≤

---

## üîß –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –¢—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞:**
   - Apps Script ‚Üí –¢—Ä–∏–≥–≥–µ—Ä—ã
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è = `calculateMlmBonuses`
   - –¢–∏–ø —Å–æ–±—ã—Ç–∏—è = "–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏"

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—ã:**
   - Apps Script ‚Üí –ú–æ–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –æ—à–∏–±–∫–∏

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤—Ä—É—á–Ω—É—é

### –°–∫—Ä–∏–ø—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É:

1. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∂—É—Ä–Ω–∞–ª:**
   - Apps Script ‚Üí –ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å ‚ùå

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:**
   ```javascript
   testTableStructure()
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü:**
   - referals: 6 –∫–æ–ª–æ–Ω–æ–∫ (A-F)
   - payments: 18 –∫–æ–ª–æ–Ω–æ–∫ (A-R)

### –ë–æ–Ω—É—Å—ã –Ω–µ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ:**
   - ID –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –µ—Å—Ç—å –≤ referals?
   - –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞ > 0?
   - –£ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –µ—Å—Ç—å –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫?

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Ä–æ–≤–Ω–∏:**
   - L1 —É—Ä–æ–≤–µ–Ω—å >= 2?
   - L2 —É—Ä–æ–≤–µ–Ω—å >= 3? (–¥–ª—è L2 –±–æ–Ω—É—Å–æ–≤)

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∫–æ–¥ –∏–∑ `calculateMlmBonuses_trigger.gs`
- [ ] –í—Å—Ç–∞–≤–ª–µ–Ω –≤ Apps Script
- [ ] –°–æ–∑–¥–∞–Ω —Ç—Ä–∏–≥–≥–µ—Ä onChange
- [ ] –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- [ ] –ó–∞–ø—É—â–µ–Ω `testTableStructure()` - –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ó–∞–ø—É—â–µ–Ω `calculateMlmBonuses()` –≤—Ä—É—á–Ω—É—é - —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ —á–µ—Ä–µ–∑ API
- [ ] –¢—Ä–∏–≥–≥–µ—Ä —Å—Ä–∞–±–æ—Ç–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ë–æ–Ω—É—Å—ã —Ä–∞—Å—Å—á–∏—Ç–∞–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

---

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
- `README.md` - –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- `MLM_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md` - –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
- `–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï.md` - –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–í–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞:** 2.1 (–¢—Ä–∏–≥–≥–µ—Ä–Ω–∞—è)  
**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** Google Sheets + Apps Script  
**–î–∞—Ç–∞:** 12.12.2025

---

<div align="center">

### ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

**–¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** üéâ

</div>
